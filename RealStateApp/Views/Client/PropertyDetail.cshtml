@using RealStateApp.Core.Application.ViewModels.Properties
@model PropertiesVM

@{
    ViewBag.Title = "Detalle de Propiedad";
}


<div class="col-6 offset-3 text-center">
    <div class="card">

        <h2 class="mb-4 mt-3">Detalle de Propiedad</h2>
<div class="property-details">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    @for (int i = 0; i < Model.ImagesProperties.Count; i++)
                    {
                        <li data-target="#carouselExampleIndicators" data-slide-to="@i" class="@(i == 0 ? "active" : "")"></li>
                    }
                </ol>
                <div class="carousel-inner">
                    @for (int i = 0; i < Model.ImagesProperties.Count; i++)
                    {
                        <div class="carousel-item @(i == 0 ? "active" : "")">
                            <img class="d-block w-100" src="@Model.ImagesProperties[i]" alt="Slide @(i + 1)">
                        </div>
                    }
                </div>
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>


    <h3 class="mt-3">@Model.PropertiesType - @Model.Code</h3>
    <p>Tipo de Venta: @Model.SaleType</p>
    <p>Precio: @Model.Price</p>
    <p>Habitaciones: @Model.RoomQuantity, Baños: @Model.BathroomQuantity</p>
    <p>Tamaño: @Model.LandSizeMeter m²</p>
    <p>Descripción: @Model.Description</p>
            <div class="mt-2 mb-5 col-10 offset-1">
                Mejoras:
                <div class="improvements-container">
                    @foreach (var improvement in Model.PropertiesImprovements)
                    {
                        <div class="improvement">@improvement.Name</div>
                    }
                </div>
            </div>

            @if(Model.Agent.ImagePath != null)
            {
                <img src="@Model.Agent.ImagePath" alt="Foto del Agente" class="agent-image" />
            }else
            {
                <img src="wwwroot\Images\Agent\Anonimo\AgentAnonimo.png" alt="Foto del Agente" class="agent-image" />
            }
           <h4>Agente Inmobiliario</h4>
    <p>Nombre: @Model.Agent.FirstName @Model.Agent.LastName</p> 
    <p>Celular: @Model.Agent.Phone</p>
    <p>Email: @Model.Agent.Email</p>
    <a class="btn btn-danger col-3 offset-7 mt-3 mb-4" asp-controller="Home" asp-action="Index">Volver Atras</a>
</div>
    </div>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

</div>

    <style>
    .imageSlider img {
        width: 100%; 
        border: 1px solid #ddd;
        border-radius: 4px; 
        padding: 5px; 
        margin-bottom: 10px; 
    }

    .improvements-container {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
    }

    .improvement {
        background-color: darkred;
        color: white;
        padding: 5px 10px;
        border-radius: 5px;
        margin: 5px;
    }

    .agent-image-container {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .agent-image {
        width: 100%;
        height: auto;
        border-radius: 50%;
    }


    </style>

